@page "/movies"
@inject IMovieService MovieService
@rendermode InteractiveServer

<h1>Movies</h1>

@if (movies == null)
{
    <p>Loading...</p>
}
else if (!movies.Any())
{
    <p>No movies found.</p>
}
else
{
    <div>
        @foreach (var movie in movies)
        {
            <div style="padding: 10px; border-bottom: 1px solid #ccc;">
                <strong>@movie.Title</strong> - <img src="@movie.CoverUrl" alt="@movie.Title" width="100" />
            </div>
        }
    </div>
}

@code {
    private List<Movie>? movies;

    protected override async Task OnInitializedAsync()
    {
        movies = await MovieService.GetMoviesAsync();
    }
}
