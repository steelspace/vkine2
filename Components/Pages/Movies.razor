@page "/movies"
@inject IMovieService MovieService

<PageTitle>Movies</PageTitle>

<h1>Movies</h1>

@if (movies == null)
{
    <p>Loading...</p>
}
else if (!movies.Any())
{
    <p>No movies found.</p>
}
else
{
    <ul>
        @foreach (var movie in movies)
        {
            <li>
                <strong>@movie.Title</strong> - <img src="@movie.CoverUrl" alt="@movie.Title" width="100" />
            </li>
        }
    </ul>
}

@code {
    private List<Movie>? movies;

    protected override async Task OnInitializedAsync()
    {
        movies = await MovieService.GetMoviesAsync();
    }
}
